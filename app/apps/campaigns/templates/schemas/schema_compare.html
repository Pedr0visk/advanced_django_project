{% extends 'base.html' %}
{% load static %}

{% block extra_menu %}
{% include 'common/bop_menu.html' %}
{% endblock %}

{% block main %}
<div class="section container-fluid px-5">
  <!-- section title -->
  <div class="section-title mb-3">
    <p>Results for bop: "{{ bop }}"</p>
  </div>
  <hr>

  <div class="section-content">

    <div class="row">
      <div class="col-12">
        <div class="table-responsive text-nowrap table-fixed">
          <table class="table table-results">
            <thead>
            <tr>
              <th colspan="3"></th>
              <!-- SF's -->
              {% for sf in safety_functions %}
              <th class="title" colspan="3" style="text-align: center">{{ sf.name }}</th>
              <th></th>
              {% endfor %}
            </tr>

            <tr>
              <th colspan="3"></th>
              {% for sf in safety_functions %}
              <td class="cell">Num. Value</td>
              <td class="cell">SIL Value</td>
              <td class="cell">Rel. Compar</td>
              <td></td>
              {% endfor %}
            </tr>

            </thead>
            <tbody>
            {% for schema in averages %}
            <tr>
              <td colspan="3"><b>schema {{ forloop.counter }}</b></td>
              {% for coluna in schema %}

              {% if coluna > 0.01 %}
                <td>
                  {{ coluna  | stringformat:".2e" }}
                </td>
                <td style="color:black;background-color: #993333;opacity: 0.6; text-align: center;"> 1</td>
                {% elif coluna > 0.001 %}
                <td>
                  {{ coluna  | stringformat:".2e" }}
                </td>
                <td style="color:black;background-color: orange;opacity: 0.6; text-align: center;"> 2
                </td>
                {% else %}
                <td>
                  {{ coluna  | stringformat:".2e" }}
                </td>
                <td style="color:black; background-color:  lime;opacity: 0.6; text-align: center">
                  3
                </td>
              {% endif %}

                <td></td>
                <td></td>
              {% endfor %}
            </tr>
            {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>
{% endblock %}
